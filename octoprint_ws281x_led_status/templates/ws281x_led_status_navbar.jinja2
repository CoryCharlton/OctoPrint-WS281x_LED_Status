{% set ICON_COLOR = "settingsViewModel.settings.plugins.ws281x_led_status.effects.torch.icon_color" %}

{% macro torch_on_icon() %}
{# https://fonts.google.com/icons flashlight_on #}
<svg xmlns="http://www.w3.org/2000/svg" height="19px" viewBox="0 0 24 24" width="24px" data-bind="attr: { fill: {{ ICON_COLOR }}(), filter: 'drop-shadow( 0px -5px 2px ' + {{ ICON_COLOR }}() + '66 )' }" >
  <g>
      <path d="M0,0h24v24H0V0z" fill="none"></path>
  </g>
  <g transform="matrix(1.2,0,0,1.2,-2.2,-2.4)">
    <g>
      <path d="M6,4v1h12V4c0-1.1-0.9-2-2-2H8C6.9,2,6,2.9,6,4z"></path>
      <path d="M6,7v1l2,3v9c0,1.1,0.9,2,2,2h4c1.1,0,2-0.9,2-2v-9l2-3V7H6z M12,15.5c-0.83,0-1.5-0.67-1.5-1.5s0.67-1.5,1.5-1.5 s1.5,0.67,1.5,1.5S12.83,15.5,12,15.5z"></path>
    </g>
  </g>
</svg>
{% endmacro %}

{% macro torch_off_icon() %}
{# https://fonts.google.com/icons flashlight_off #}
<svg xmlns="http://www.w3.org/2000/svg" height="19px" viewBox="0 0 24 24" width="24px" data-bind="attr: { fill: {{ ICON_COLOR }}() }" >
  <g>
    <path d="M0,0h24v24H0V0z" fill="none"></path>
  </g>
  <g transform="matrix(1.1428571,0,0,1.1428571,-1.835714,-1.7142857)">
    <g>
      <path fill="none" data-bind="attr: {stroke: {{ ICON_COLOR }}()}" d="M6,4v1h12V4c0-1.1-0.9-2-2-2H8C6.9,2,6,2.9,6,4z"></path>
      <path fill="none" data-bind="attr: {stroke: {{ ICON_COLOR }}()}" d="M6,7v1l2,3v9c0,1.1,0.9,2,2,2h4c1.1,0,2-0.9,2-2v-9l2-3V7H6z M12,15.5c-0.83,0-1.5-0.67-1.5-1.5s0.67-1.5,1.5-1.5 s1.5,0.67,1.5,1.5S12.83,15.5,12,15.5z"></path>
    </g>
  </g>
</svg>
{% endmacro %}

<a title="Toggle lights" style="font-size:20px" href="javascript:void(0)" data-bind="click: toggle_lights ">
    <i
            id="lightIcon"
            class="fa-lightbulb"
            data-bind="css: { 'fas text-success': lights_on, 'far text-error': !lights_on() }"
    ></i>
    <i
            style="margin-left: 4px"
            id="toggleSwitch"
            class="fa"
            data-bind="css: { 'fa-toggle-on text-success': lights_on, 'fa-toggle-off text-error': !lights_on() }"
    ></i></a>
<a style="font-size:20px" href="javascript:void(0)" data-bind="click: toggle_torch, visible: torch_enabled(), attr: { title: torch_on() ? 'Turn torch off' : 'Turn torch on' }">
    <!-- ko if: torch_on -->
    {{ torch_on_icon() }}
    <!-- /ko -->
    <!-- ko ifnot: torch_on -->
    {{ torch_off_icon() }}
    <!-- /ko -->
</a>
